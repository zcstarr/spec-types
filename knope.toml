[packages.go]
versioned_files = ["generated/packages/go/go.mod"]
changelog = "generated/packages/go/CHANGELOG.md"
scopes = ["go"]

[packages.py]
versioned_files = ["generated/packages/py/pyproject.toml"]
changelog = "generated/packages/py/CHANGELOG.md"
scopes = ["py"]

[packages.rs]
versioned_files = ["generated/packages/rs/Cargo.toml"]
changelog = "generated/packages/rs/CHANGELOG.md"
scopes = ["rs"]

[packages.ts]
versioned_files = ["generated/packages/ts/package.json"]
changelog = "generated/packages/ts/CHANGELOG.md"
scopes = ["ts"]

[[workflows]]
name = "prepare-release"

[[workflows.steps]]
type = "Command"
command = "git switch -c release"

[[workflows.steps]]
type = "PrepareRelease"

[[workflows.steps]]
type = "Command"
command = "git commit -m \"chore: prepare release\""

[[workflows.steps]]
type = "Command"
command = "git push --force --set-upstream origin release"

[[workflows.steps]]
type = "CreatePullRequest"
base = "main"

[workflows.steps.title]
template = "chore: prepare release"
variables = {}

[workflows.steps.body]
template = "Merging this PR will create a new release. See the diff for version bumps and changelogs."
variables = {}

[[workflows]]
name = "release"

[[workflows.steps]]
type = "Release"

[[workflows]]
name = "document-change"

[[workflows.steps]]
type = "CreateChangeFile"

[release_notes]
change_templates = [
    "- $summary ([`$commit_hash`](https://github.com/zcstarr/spec-types/commit/$commit_hash))",
    "### $summary\n\n$details",
    "- $summary",
]

[github]
owner = "zcstarr"
repo = "spec-types"

